<!-- Please Select your software:
<form action="{%url 'session'%}" method='post'>
    {% csrf_token %}
    <label for="softwares">Choose software:</label>
    <select name="software" id="softwares">
        {%for soft in software%}
      <option value="{{soft.executable}}" onclick="myFunction()">{{soft.name}}</option>
      {%endfor %}
    </select>
    <button type="submit">Start Session</button>
    <br>
    Just want to hangout? <button type="submit" name="spectate">Spectate</button>
</form>

 -->
 Please Select your software:
<style>
    .hidden{
        display:none;
    }
    .show{
        display:block;
    }
</style>
<form action="{%url 'session'%}" method='post'>
  {% csrf_token %}
    <label for="softwares">Choose software:</label>
    <select name="software" id="softwares" onchange=myFunction()>
        {%for soft in software%}
      <option value="{{soft.executable}}" >{{soft.name}}</option>
      {%endfor %}
    </select>
{%for di in dict%}
{% for soft, domain in di.items %}
    <div  id="{{soft.executable}}" class="optionopop hidden">
        <label for="domain">Choose Domain:</label>
        <select name="domain{{soft.executable}}" id="domain"> 
            {%for dom in domain%}
          <option value="{{dom.name}}" >{{dom.name}}</option>
          {%endfor %}
        </select>
    </div>
{% endfor %}{% endfor %}
<button type="submit">Start Session</button>
<br>
Just want to hangout? <button type="submit" name="spectate">Spectate</button>
</form>
<script>
       
    localStorage.setItem("prev", "");
    myFunction();
    function myFunction() {
              // console.log(document.getElementById("softwares").value);
        const a=document.getElementById("softwares").value;
        console.log(a);
        document.getElementById(`${a}`).classList.add('show');
        const b=localStorage.getItem("prev");
        console.log(b);
        // console.log(document.getElementById(`${b}`));
        if(b.localeCompare("")!=0&&b.localeCompare(a)!=0){
        document.getElementById(`${b}`).classList.remove('show');
        }
        localStorage.setItem("prev", `${a}`);

    }
    </script>  